import{S as Se,i as ye,s as Re,k as c,a as L,q as D,l as u,m as f,c as P,r as I,h,K as Le,n as v,L as Pe,b as fe,E as e,M as ke,N as Ve,u as J,I as Be,O as Te,o as Ae,P as He}from"../chunks/index.190ecc22.js";import{b as qe}from"../chunks/paths.7674ed79.js";function Ce(r,t,s){const l=r.slice();return l[10]=t[s].shop,l[11]=t[s].borough,l[12]=t[s].revenue,l[14]=s,l}function De(r,t,s){const l=r.slice();return l[15]=t[s],l[14]=s,l}function Ie(r){let t,s=r[15].borough+"",l,i;return{c(){t=c("option"),l=D(s),this.h()},l(d){t=u(d,"OPTION",{});var _=f(t);l=I(_,s),_.forEach(h),this.h()},h(){t.__value=i=r[15].borough,t.value=t.__value},m(d,_){fe(d,t,_),e(t,l)},p(d,_){_&4&&s!==(s=d[15].borough+"")&&J(l,s),_&4&&i!==(i=d[15].borough)&&(t.__value=i,t.value=t.__value)},d(d){d&&h(t)}}}function we(r){let t,s,l=r[10]+"",i,d,_,k=r[11]+"",w,S,p,B=r[12]+"",E,T;return{c(){t=c("tr"),s=c("td"),i=D(l),d=L(),_=c("td"),w=D(k),S=L(),p=c("td"),E=D(B),T=L(),this.h()},l(n){t=u(n,"TR",{class:!0});var g=f(t);s=u(g,"TD",{class:!0});var y=f(s);i=I(y,l),y.forEach(h),d=P(g),_=u(g,"TD",{class:!0});var A=f(_);w=I(A,k),A.forEach(h),S=P(g),p=u(g,"TD",{class:!0});var M=f(p);E=I(M,B),M.forEach(h),T=P(g),g.forEach(h),this.h()},h(){v(s,"class","svelte-x3prk1"),v(_,"class","svelte-x3prk1"),v(p,"class","svelte-x3prk1"),v(t,"class","svelte-x3prk1")},m(n,g){fe(n,t,g),e(t,s),e(s,i),e(t,d),e(t,_),e(_,w),e(t,S),e(t,p),e(p,E),e(t,T)},p(n,g){g&2&&l!==(l=n[10]+"")&&J(i,l),g&2&&k!==(k=n[11]+"")&&J(w,k),g&2&&B!==(B=n[12]+"")&&J(E,B)},d(n){n&&h(t)}}}function Me(r){let t,s,l,i,d,_,k,w,S,p,B,E,T,n,g,y,A,M,Q,W,$,N,ee,U,X,te,H,V,O,le,oe,j,se,ae,G,re,he,ne,ie,K=r[2],b=[];for(let a=0;a<K.length;a+=1)b[a]=Ie(De(r,K,a));let x=r[1],m=[];for(let a=0;a<x.length;a+=1)m[a]=we(Ce(r,x,a));return{c(){t=c("div"),s=c("div"),l=c("div"),i=c("img"),_=L(),k=c("h1"),w=D("Coffee Shop in Borough Analyser"),S=L(),p=c("div"),B=c("label"),E=D("Choose a Borough:"),T=L(),n=c("select");for(let a=0;a<b.length;a+=1)b[a].c();g=L(),y=c("div"),A=c("p"),M=D("Boroughs: "),Q=c("b"),W=D(r[0]),$=L(),N=c("p"),ee=D("Total Revenue: "),U=c("b"),X=D(r[3]),te=L(),H=c("table"),V=c("tr"),O=c("th"),le=D("Coffee Shop"),oe=L(),j=c("th"),se=D("Borough"),ae=L(),G=c("th"),re=D("Revenue (£)"),he=L();for(let a=0;a<m.length;a+=1)m[a].c();this.h()},l(a){t=u(a,"DIV",{class:!0});var R=f(t);s=u(R,"DIV",{class:!0});var o=f(s);l=u(o,"DIV",{id:!0,class:!0});var C=f(l);i=u(C,"IMG",{src:!0,alt:!0,height:!0}),_=P(C),k=u(C,"H1",{});var _e=f(k);w=I(_e,"Coffee Shop in Borough Analyser"),_e.forEach(h),S=P(C),p=u(C,"DIV",{});var Y=f(p);B=u(Y,"LABEL",{for:!0});var ve=f(B);E=I(ve,"Choose a Borough:"),ve.forEach(h),T=P(Y),n=u(Y,"SELECT",{name:!0,id:!0});var pe=f(n);for(let q=0;q<b.length;q+=1)b[q].l(pe);pe.forEach(h),Y.forEach(h),g=P(C),y=u(C,"DIV",{});var z=f(y);A=u(z,"P",{});var ce=f(A);M=I(ce,"Boroughs: "),Q=u(ce,"B",{});var de=f(Q);W=I(de,r[0]),de.forEach(h),ce.forEach(h),$=P(z),N=u(z,"P",{});var ue=f(N);ee=I(ue,"Total Revenue: "),U=u(ue,"B",{});var ge=f(U);X=I(ge,r[3]),ge.forEach(h),ue.forEach(h),te=P(z),H=u(z,"TABLE",{class:!0});var Z=f(H);V=u(Z,"TR",{class:!0});var F=f(V);O=u(F,"TH",{class:!0});var be=f(O);le=I(be,"Coffee Shop"),be.forEach(h),oe=P(F),j=u(F,"TH",{class:!0});var me=f(j);se=I(me,"Borough"),me.forEach(h),ae=P(F),G=u(F,"TH",{class:!0});var Ee=f(G);re=I(Ee,"Revenue (£)"),Ee.forEach(h),F.forEach(h),he=P(Z);for(let q=0;q<m.length;q+=1)m[q].l(Z);Z.forEach(h),z.forEach(h),C.forEach(h),o.forEach(h),R.forEach(h),this.h()},h(){Le(i.src,d=`${qe}/ael-logo.png`)||v(i,"src",d),v(i,"alt",""),v(i,"height","100px"),v(B,"for","Borough"),v(n,"name","Borough"),v(n,"id","Borough"),r[0]===void 0&&Pe(()=>r[6].call(n)),v(O,"class","svelte-x3prk1"),v(j,"class","svelte-x3prk1"),v(G,"class","svelte-x3prk1"),v(V,"class","svelte-x3prk1"),v(H,"class","svelte-x3prk1"),v(l,"id","main"),v(l,"class","svelte-x3prk1"),v(s,"class","row svelte-x3prk1"),v(t,"class","center svelte-x3prk1")},m(a,R){fe(a,t,R),e(t,s),e(s,l),e(l,i),e(l,_),e(l,k),e(k,w),e(l,S),e(l,p),e(p,B),e(B,E),e(p,T),e(p,n);for(let o=0;o<b.length;o+=1)b[o]&&b[o].m(n,null);ke(n,r[0],!0),e(l,g),e(l,y),e(y,A),e(A,M),e(A,Q),e(Q,W),e(y,$),e(y,N),e(N,ee),e(N,U),e(U,X),e(y,te),e(y,H),e(H,V),e(V,O),e(O,le),e(V,oe),e(V,j),e(j,se),e(V,ae),e(V,G),e(G,re),e(H,he);for(let o=0;o<m.length;o+=1)m[o]&&m[o].m(H,null);ne||(ie=Ve(n,"change",r[6]),ne=!0)},p(a,[R]){if(R&4){K=a[2];let o;for(o=0;o<K.length;o+=1){const C=De(a,K,o);b[o]?b[o].p(C,R):(b[o]=Ie(C),b[o].c(),b[o].m(n,null))}for(;o<b.length;o+=1)b[o].d(1);b.length=K.length}if(R&5&&ke(n,a[0]),R&1&&J(W,a[0]),R&8&&J(X,a[3]),R&2){x=a[1];let o;for(o=0;o<x.length;o+=1){const C=Ce(a,x,o);m[o]?m[o].p(C,R):(m[o]=we(C),m[o].c(),m[o].m(H,null))}for(;o<m.length;o+=1)m[o].d(1);m.length=x.length}},i:Be,o:Be,d(a){a&&h(t),Te(b,a),Te(m,a),ne=!1,ie()}}}function Ne(r,t,s){let l,i;async function d(){const T=await(await fetch("http://127.0.0.1:3000/coffeeshops")).json();s(4,k=[...T.coffeeshops]),T.coffeeshops.map(n=>n.shop)}async function _(){const T=await(await fetch("http://127.0.0.1:3000/allborough")).json();s(2,w=[...T.borough])}let k=[],w=[],S;Ae(async()=>{await d(),await _()});let p;function B(){S=He(this),s(0,S),s(2,w)}return r.$$.update=()=>{r.$$.dirty&17&&s(1,p=k.filter(E=>E.borough==S)),r.$$.dirty&2&&s(5,l=p.map(E=>Number(E.revenue))),r.$$.dirty&32&&s(3,i=l.reduce((E,T)=>E+T,0))},[S,p,w,i,k,l,B]}class Ge extends Se{constructor(t){super(),ye(this,t,Ne,Me,Re,{})}}export{Ge as component};
