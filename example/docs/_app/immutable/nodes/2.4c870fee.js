import{S as je,i as Ge,s as Ke,k as i,a as b,q as g,l as h,m as d,c as k,r as m,h as n,K as xe,n as _,L as ze,b as be,E as e,M as Ve,N as Fe,u as J,I as Ae,O as Be,o as Je,P as Qe}from"../chunks/index.190ecc22.js";import{b as Ue}from"../chunks/paths.327aeac7.js";function qe(r,t,l){const a=r.slice();return a[10]=t[l].name,a[11]=t[l].site,a[12]=t[l].postcode,a[13]=t[l].substation,a[14]=t[l].energySource,a[15]=t[l].connected_capacity,a[17]=l,a}function Me(r,t,l){const a=r.slice();return a[18]=t[l],a[17]=l,a}function Oe(r){let t,l=r[18].nodes+"",a,f;return{c(){t=i("option"),a=g(l),this.h()},l(y){t=h(y,"OPTION",{});var p=d(t);a=m(p,l),p.forEach(n),this.h()},h(){t.__value=f=r[18].substation,t.value=t.__value},m(y,p){be(y,t,p),e(t,a)},p(y,p){p&4&&l!==(l=y[18].nodes+"")&&J(a,l),p&4&&f!==(f=y[18].substation)&&(t.__value=f,t.value=t.__value)},d(y){y&&n(t)}}}function Re(r){let t,l,a=r[10]+"",f,y,p,H=r[11]+"",V,A,E,C=r[12]+"",I,L,u,G=r[13]+"",N,O,R,M=r[14]+"",K,U,S,x=r[15]+"",j,Q;return{c(){t=i("tr"),l=i("td"),f=g(a),y=b(),p=i("td"),V=g(H),A=b(),E=i("td"),I=g(C),L=b(),u=i("td"),N=g(G),O=b(),R=i("td"),K=g(M),U=b(),S=i("td"),j=g(x),Q=b(),this.h()},l(w){t=h(w,"TR",{class:!0});var c=d(t);l=h(c,"TD",{class:!0});var v=d(l);f=m(v,a),v.forEach(n),y=k(c),p=h(c,"TD",{class:!0});var z=d(p);V=m(z,H),z.forEach(n),A=k(c),E=h(c,"TD",{class:!0});var X=d(E);I=m(X,C),X.forEach(n),L=k(c),u=h(c,"TD",{class:!0});var Y=d(u);N=m(Y,G),Y.forEach(n),O=k(c),R=h(c,"TD",{class:!0});var F=d(R);K=m(F,M),F.forEach(n),U=k(c),S=h(c,"TD",{class:!0});var Z=d(S);j=m(Z,x),Z.forEach(n),Q=k(c),c.forEach(n),this.h()},h(){_(l,"class","svelte-x3prk1"),_(p,"class","svelte-x3prk1"),_(E,"class","svelte-x3prk1"),_(u,"class","svelte-x3prk1"),_(R,"class","svelte-x3prk1"),_(S,"class","svelte-x3prk1"),_(t,"class","svelte-x3prk1")},m(w,c){be(w,t,c),e(t,l),e(l,f),e(t,y),e(t,p),e(p,V),e(t,A),e(t,E),e(E,I),e(t,L),e(t,u),e(u,N),e(t,O),e(t,R),e(R,K),e(t,U),e(t,S),e(S,j),e(t,Q)},p(w,c){c&2&&a!==(a=w[10]+"")&&J(f,a),c&2&&H!==(H=w[11]+"")&&J(V,H),c&2&&C!==(C=w[12]+"")&&J(I,C),c&2&&G!==(G=w[13]+"")&&J(N,G),c&2&&M!==(M=w[14]+"")&&J(K,M),c&2&&x!==(x=w[15]+"")&&J(j,x)},d(w){w&&n(t)}}}function We(r){let t,l,a,f,y,p,H,V,A,E,C,I,L,u,G,N,O,R,M,K,U,S,x,j,Q,w,c,v,z,X,Y,F,Z,ne,$,ie,he,ee,de,_e,te,ue,fe,ae,pe,ve,ge,ke,le=r[2],T=[];for(let o=0;o<le.length;o+=1)T[o]=Oe(Me(r,le,o));let se=r[1],D=[];for(let o=0;o<se.length;o+=1)D[o]=Re(qe(r,se,o));return{c(){t=i("div"),l=i("div"),a=i("div"),f=i("img"),p=b(),H=i("h1"),V=g("Capacity Identification Application"),A=b(),E=i("div"),C=i("label"),I=g("Choose a Node:"),L=b(),u=i("select");for(let o=0;o<T.length;o+=1)T[o].c();G=b(),N=i("div"),O=i("p"),R=g("substation: "),M=i("b"),K=g(r[0]),U=b(),S=i("p"),x=g("total capacity: "),j=i("b"),Q=g(r[3]),w=b(),c=i("table"),v=i("tr"),z=i("th"),X=g("name"),Y=b(),F=i("th"),Z=g("site"),ne=b(),$=i("th"),ie=g("postcode"),he=b(),ee=i("th"),de=g("substation"),_e=b(),te=i("th"),ue=g("energy source"),fe=b(),ae=i("th"),pe=g("capacity"),ve=b();for(let o=0;o<D.length;o+=1)D[o].c();this.h()},l(o){t=h(o,"DIV",{class:!0});var B=d(t);l=h(B,"DIV",{class:!0});var s=d(l);a=h(s,"DIV",{id:!0,class:!0});var P=d(a);f=h(P,"IMG",{src:!0,alt:!0,height:!0}),p=k(P),H=h(P,"H1",{});var ye=d(H);V=m(ye,"Capacity Identification Application"),ye.forEach(n),A=k(P),E=h(P,"DIV",{});var re=d(E);C=h(re,"LABEL",{for:!0});var Te=d(C);I=m(Te,"Choose a Node:"),Te.forEach(n),L=k(re),u=h(re,"SELECT",{name:!0,id:!0});var De=d(u);for(let W=0;W<T.length;W+=1)T[W].l(De);De.forEach(n),re.forEach(n),G=k(P),N=h(P,"DIV",{});var oe=d(N);O=h(oe,"P",{});var me=d(O);R=m(me,"substation: "),M=h(me,"B",{});var Ie=d(M);K=m(Ie,r[0]),Ie.forEach(n),me.forEach(n),U=k(oe),S=h(oe,"P",{});var Ee=d(S);x=m(Ee,"total capacity: "),j=h(Ee,"B",{});var we=d(j);Q=m(we,r[3]),we.forEach(n),Ee.forEach(n),w=k(oe),c=h(oe,"TABLE",{class:!0});var ce=d(c);v=h(ce,"TR",{class:!0});var q=d(v);z=h(q,"TH",{class:!0});var He=d(z);X=m(He,"name"),He.forEach(n),Y=k(q),F=h(q,"TH",{class:!0});var Ce=d(F);Z=m(Ce,"site"),Ce.forEach(n),ne=k(q),$=h(q,"TH",{class:!0});var Le=d($);ie=m(Le,"postcode"),Le.forEach(n),he=k(q),ee=h(q,"TH",{class:!0});var Ne=d(ee);de=m(Ne,"substation"),Ne.forEach(n),_e=k(q),te=h(q,"TH",{class:!0});var Pe=d(te);ue=m(Pe,"energy source"),Pe.forEach(n),fe=k(q),ae=h(q,"TH",{class:!0});var Se=d(ae);pe=m(Se,"capacity"),Se.forEach(n),q.forEach(n),ve=k(ce);for(let W=0;W<D.length;W+=1)D[W].l(ce);ce.forEach(n),oe.forEach(n),P.forEach(n),s.forEach(n),B.forEach(n),this.h()},h(){xe(f.src,y=`${Ue}/ael-logo.png`)||_(f,"src",y),_(f,"alt",""),_(f,"height","100px"),_(C,"for","nodesubs"),_(u,"name","nodesubs"),_(u,"id","nodes"),r[0]===void 0&&ze(()=>r[6].call(u)),_(z,"class","svelte-x3prk1"),_(F,"class","svelte-x3prk1"),_($,"class","svelte-x3prk1"),_(ee,"class","svelte-x3prk1"),_(te,"class","svelte-x3prk1"),_(ae,"class","svelte-x3prk1"),_(v,"class","svelte-x3prk1"),_(c,"class","svelte-x3prk1"),_(a,"id","main"),_(a,"class","svelte-x3prk1"),_(l,"class","row svelte-x3prk1"),_(t,"class","center svelte-x3prk1")},m(o,B){be(o,t,B),e(t,l),e(l,a),e(a,f),e(a,p),e(a,H),e(H,V),e(a,A),e(a,E),e(E,C),e(C,I),e(E,L),e(E,u);for(let s=0;s<T.length;s+=1)T[s]&&T[s].m(u,null);Ve(u,r[0],!0),e(a,G),e(a,N),e(N,O),e(O,R),e(O,M),e(M,K),e(N,U),e(N,S),e(S,x),e(S,j),e(j,Q),e(N,w),e(N,c),e(c,v),e(v,z),e(z,X),e(v,Y),e(v,F),e(F,Z),e(v,ne),e(v,$),e($,ie),e(v,he),e(v,ee),e(ee,de),e(v,_e),e(v,te),e(te,ue),e(v,fe),e(v,ae),e(ae,pe),e(c,ve);for(let s=0;s<D.length;s+=1)D[s]&&D[s].m(c,null);ge||(ke=Fe(u,"change",r[6]),ge=!0)},p(o,[B]){if(B&4){le=o[2];let s;for(s=0;s<le.length;s+=1){const P=Me(o,le,s);T[s]?T[s].p(P,B):(T[s]=Oe(P),T[s].c(),T[s].m(u,null))}for(;s<T.length;s+=1)T[s].d(1);T.length=le.length}if(B&5&&Ve(u,o[0]),B&1&&J(K,o[0]),B&8&&J(Q,o[3]),B&2){se=o[1];let s;for(s=0;s<se.length;s+=1){const P=qe(o,se,s);D[s]?D[s].p(P,B):(D[s]=Re(P),D[s].c(),D[s].m(c,null))}for(;s<D.length;s+=1)D[s].d(1);D.length=se.length}},i:Ae,o:Ae,d(o){o&&n(t),Be(T,o),Be(D,o),ge=!1,ke()}}}function Xe(r,t,l){let a,f;async function y(){const L=await(await fetch("http://127.0.0.1:3000/allnodes")).json();l(2,H=[...L.nodes]),L.nodes.map(u=>u.nodes)}async function p(){const L=await(await fetch("http://127.0.0.1:3000/capacityregister")).json();l(4,V=[...L.capacityRegister])}let H=[],V=[],A;Je(async()=>{await y(),await p()});let E;function C(){A=Qe(this),l(0,A),l(2,H)}return r.$$.update=()=>{r.$$.dirty&17&&l(1,E=V.filter(I=>I.substation==A)),r.$$.dirty&2&&l(5,a=E.map(I=>I.connected_capacity)),r.$$.dirty&32&&l(3,f=a.reduce((I,L)=>I+L,0))},[A,E,H,f,V,a,C]}class $e extends je{constructor(t){super(),Ge(this,t,Xe,We,Ke,{})}}export{$e as component};
